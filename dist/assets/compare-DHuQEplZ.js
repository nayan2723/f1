const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mountReact-Do6zrrNa.js","assets/vendor-react-Cke1li9a.js","assets/vendor-B_9GMGaQ.js","assets/vendor-BU6TPP52.css","assets/vendor-radix-YAVAkKLi.js","assets/vendor-motion-CsAKAQ8w.js","assets/mountReact-DDVBb84C.css"])))=>i.map(i=>d[i]);
import{_ as W,f as j,a as F}from"./mountReact-Do6zrrNa.js";/* empty css               */import{a as H}from"./vendor-motion-CsAKAQ8w.js";import"./vendor-react-Cke1li9a.js";import"./vendor-B_9GMGaQ.js";import"./vendor-radix-YAVAkKLi.js";import"https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";import"https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("driver-a-select"),d=document.getElementById("driver-b-select"),M=document.getElementById("compare-bars-container"),b=document.getElementById("compareRadarChart");if(!window.F1Data||!s||!b)return;const h=window.F1Data.drivers;let m=null,p=null;W(()=>import("./mountReact-Do6zrrNa.js").then(e=>e.b),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>{e.authService.initAuthListener(a=>{p=a,E()})});const $=document.querySelector("#driver-a-headshot img"),k=document.querySelector("#driver-b-headshot img"),g=document.getElementById("driver-a-headshot"),x=document.getElementById("driver-b-headshot"),c=document.getElementById("swap-drivers-btn"),t=document.getElementById("save-compare-btn"),u=document.getElementById("save-compare-tooltip"),w=h.map(e=>`<option value="${e.code.toLowerCase()}">${e.name} (${e.team})</option>`).join("");s.innerHTML=w,d.innerHTML=w,s.value="ver",d.value="nor";let _="",C="";const v=()=>{const e=s.value,a=d.value;if(e===a||e===_&&a===C)return;_=e,C=a;const n=h.find(o=>o.id===e||o.code.toLowerCase()===e.toLowerCase()),r=h.find(o=>o.id===a||o.code.toLowerCase()===a.toLowerCase());if(!n||!r)return;const i=window.F1Data.getTeamColor(n.team),l=window.F1Data.getTeamColor(r.team),S=n.name.split(" ").pop().toLowerCase(),I=r.name.split(" ").pop().toLowerCase();$.src=`/assets/legacy/drivers/portrait_${S}.png`,k.src=`/assets/legacy/drivers/portrait_${I}.png`,g.style.borderBottom=`4px solid ${i}`,x.style.borderBottom=`4px solid ${l}`,g.style.boxShadow=`0 10px 20px ${i}33`,x.style.boxShadow=`0 10px 20px ${l}33`;const A=[{label:"Wins",key:"wins",max:60},{label:"Podiums",key:"podiums",max:120},{label:"Poles",key:"poles",max:50},{label:"Points (2026)",key:"pts",max:400},{label:"Consistency %",key:"consistency",max:100}];M.innerHTML=A.map(o=>{const f=n[o.key]!==void 0?n[o.key]:Math.floor(Math.random()*40+60),y=r[o.key]!==void 0?r[o.key]:Math.floor(Math.random()*40+60),D=Math.min(f/o.max*100,100),T=Math.min(y/o.max*100,100),P=f>y,R=y>f;return`
        <div class="compare-metric">
          <div style="display:flex; justify-content: space-between; font-size: 11px; color: var(--text-secondary); margin-bottom: 6px; text-transform: uppercase;">
             <span style="color: ${P?"#fff":""}">${n.code} • ${f}</span>
             <span>${o.label}</span>
             <span style="color: ${R?"#fff":""}">${y} • ${r.code}</span>
          </div>
          <div style="display: flex; height: 8px; background: rgba(255,255,255,0.05); border-radius: 4px; overflow: hidden;">
             <div style="width: 50%; display: flex; justify-content: flex-end; padding-right: 2px;">
                <div class="compare-bar-fill" data-width="${D}%" style="width: 0%; background: ${i}; border-radius: 4px 0 0 4px;"></div>
             </div>
             <div style="width: 50%; display: flex; justify-content: flex-start; padding-left: 2px;">
                <div class="compare-bar-fill" data-width="${T}%" style="width: 0%; background: ${l}; border-radius: 0 4px 4px 0;"></div>
             </div>
          </div>
        </div>
      `}).join(""),setTimeout(()=>{document.querySelectorAll(".compare-bar-fill").forEach(o=>{H(o,{width:o.dataset.width},{type:"spring",stiffness:80,damping:15,mass:1.2})})},50);const L={labels:["Pace","Racecraft","Consistency","Experience","Qualifying","Rain"],datasets:[{label:n.name,data:B(n),backgroundColor:`${i}40`,borderColor:i,borderWidth:2,pointBackgroundColor:i},{label:r.name,data:B(r),backgroundColor:`${l}40`,borderColor:l,borderWidth:2,pointBackgroundColor:l}]};m?(m.data=L,m.update()):m=new Chart(b,{type:"radar",data:L,options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{angleLines:{color:"rgba(255, 255, 255, 0.1)"},grid:{color:"rgba(255, 255, 255, 0.05)"},pointLabels:{color:"var(--text-secondary)",font:{family:"Inter",size:11}},ticks:{display:!1,min:60,max:100}}},plugins:{legend:{position:"bottom",labels:{color:"#fff",font:{family:"Inter"}}}}}}),t&&(t.textContent="⭐ Save Comparison",t.classList.remove("btn-success"))};function E(){!t||!u||(p?(t.disabled=!1,t.style.opacity="1",u.style.display="none"):(t.disabled=!0,t.style.opacity="0.5",u.style.display="block",u.textContent="Log in to save comparison"))}c&&c.addEventListener("click",e=>{e.preventDefault(),c.classList.remove("animate__animated","animate__pulse"),c.offsetWidth,c.classList.add("animate__animated","animate__pulse");const a=s.value;s.value=d.value,d.value=a,v()}),t&&t.addEventListener("click",async e=>{if(e.preventDefault(),!p)return;const a=s.value,n=d.value,r=`${a}_vs_${n}_${Date.now()}`;t.textContent="Saving...",t.disabled=!0,t.classList.remove("animate__animated","animate__rubberBand","animate__headShake");try{await j(F("users",p.uid,"comparisons",r),{driver1:a,driver2:n,timestamp:new Date().toISOString()},{merge:!0}),t.textContent="✅ Saved",t.classList.add("btn-success","animate__animated","animate__rubberBand")}catch(i){console.error("Failed to save comparison",i),t.textContent="❌ Error",t.classList.add("animate__animated","animate__headShake")}finally{setTimeout(()=>{(t.textContent==="✅ Saved"||t.textContent==="❌ Error")&&(t.disabled=!1)},2e3)}});function B(e){const a=Math.min(e.pts/2,99);return[Math.max(60,Math.min(99,a+e.wins*2)),Math.max(60,Math.min(99,a+e.podiums*1.5)),Math.max(60,Math.min(99,90-e.dnfs*5)),Math.max(60,Math.min(99,70+e.wins)),Math.max(60,Math.min(99,a+e.poles*2)),Math.floor(Math.random()*20+75)]}s.addEventListener("change",v),d.addEventListener("change",v),v()});
